{"version":3,"sources":["comps/Footer.tsx","comps/NavButton.tsx","comps/Searchbar.tsx","comps/Header.tsx","comps/Layout.tsx","comps/UserLayout.tsx","router/RequireArticle.tsx","router/RequireLogin.tsx","views/About.tsx","views/Alert.tsx","views/Loading.tsx","views/Home.tsx","views/NotFound.tsx","App.tsx","store/article/reducers.ts","store/user/reducers.ts","store/store.ts","store/index.ts","index.tsx","router/routes.ts","apis/mitt.ts","store/user/actionTypes.ts","comps/Hidden.tsx","store/article/actionTypes.ts","apis/fetch.ts","store/user/actions.ts","apis/article.ts","comps/Article.tsx","store/article/actions.ts","constant/user.ts"],"names":["Footer","useState","value","setValue","navigate","useNavigate","location","useLocation","useEffect","pathname","BottomNavigation","onChange","e","newValue","sx","boxShadow","BottomNavigationAction","disableTouchRipple","label","MainRoute","HOME","icon","ARTICLE","USER","NavButton","props","to","children","math","useMatch","Button","onClick","color","Searchbar","Paper","elevation","className","backgroundColor","InputBase","placeholder","Header","useSelector","state","user","avatar","username","match","path","end","AppBar","position","Toolbar","Hidden","Avatar","width","height","src","fontSize","SEARCH","Divider","variant","Layout","tag","UserLayout","dispatch","useDispatch","fullWidth","logoutAction","Typography","RequireArticle","articles","article","length","from","RequireLogin","isLogin","LOGIN","About","timer","AlertMsg","open","setOpen","msg","setMsg","emitter","on","MittEventName","ALERT","clearTimeout","setTimeout","id","Alert","severity","zIndex","top","Loading","Skeleton","animation","Home","findArticle","data","addArticlesAction","map","Article","key","_id","NotFound","style","padding","theme","createTheme","palette","secondary","main","App","Login","lazy","Personal","User","Editor","MDViewer","ArticleList","ThemeProvider","fallback","element","index","ArticleChildRoute","ARTICLE_ID","UserChildRoute","PERSONAL","ARTICLE_LIST","initial","account","title","content","like","watch","comment","createTime","updateTime","cover","category","summary","token","gender","Gender_en","MALE","signature","reducers","combineReducers","action","type","res","ActionTypes","LOGOUT","MODIFY","GET_ARTICLES","ARTICLE_ADD","push","ARTICLES_ADD","store","createStore","ReactDOM","render","StrictMode","document","getElementById","HomeChildRoute","Mitt","HiddenWithMobil","createElement","trim","HiddenWithDesk","request","url","Request","method","body","JSON","stringify","headers","Headers","mode","cache","useFetch","netError","resolve","reject","final","a","fetch","then","response","ok","json","catch","error","finally","_fetch","resolv","emit","Object","values","success","errMsg","loginAction","modifyUserInfoAction","getUserArticleAction","createArticle","resole","author","condition","getArticle","loginUser","isOwnArticle","component","fontWeight","orientation","flexItem","mx","mt","Date","toLocaleDateString","flexGrow","ml","image","alt","Counter","count","clickedIcon","isClicked","setIsClicked","curCount","setCurCount","mr","numToFinancialNotation","num","m","b","Math","floor","toString","addArticleAction","Gender_zh","Gender_enToGender_zh","FEMALE"],"mappings":"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","file":"static/js/main.67ab81d1.chunk.js","sourcesContent":["import AddIcon from '@mui/icons-material/Add'\r\nimport HomeIcon from '@mui/icons-material/Home'\r\nimport PersonIcon from '@mui/icons-material/Person'\r\nimport { BottomNavigationAction } from '@mui/material'\r\nimport BottomNavigation from '@mui/material/BottomNavigation'\r\nimport { Fragment, SyntheticEvent, useEffect, useState } from 'react'\r\nimport { useNavigate } from 'react-router'\r\nimport { useLocation } from 'react-router-dom'\r\nimport { MainRoute } from '../router/routes'\r\n\r\nexport default function Footer() {\r\n\tconst [value, setValue] = useState('')\r\n\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst location = useLocation()\r\n\r\n\tconst handleChange = (e: SyntheticEvent, newValue: string) => {\r\n\t\tsetValue(newValue)\r\n\t\tnavigate(newValue)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tsetValue(location.pathname)\r\n\t}, [location.pathname])\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{/* <div\r\n\t\t\t\tclassName={`fixed mb-3.5rem inset-0 z-index-998 ${\r\n\t\t\t\t\topen ? '' : 'hidden'\r\n\t\t\t\t}`.trim()}\r\n\t\t\t\tonClick={(e) => more(e)}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`absolute z-index-999 bottom-1rem w-full flex justify-center items-center triangle-bottom`}>\r\n\t\t\t\t\t<div className={`bg-light-50 rounded px-2 py-1 shadow-xl`}>\r\n\t\t\t\t\t\t<Button>2</Button>\r\n\t\t\t\t\t\t<Button onClick={onClick}>写文章</Button>\r\n\t\t\t\t\t\t<Button>3</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div> */}\r\n\r\n\t\t\t<BottomNavigation\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\tsx={{ boxShadow: '0px -1px 1px  #eee' }}>\r\n\t\t\t\t<BottomNavigationAction\r\n\t\t\t\t\tdisableTouchRipple\r\n\t\t\t\t\tlabel='Home'\r\n\t\t\t\t\tvalue={MainRoute.HOME}\r\n\t\t\t\t\ticon={<HomeIcon />}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<BottomNavigationAction\r\n\t\t\t\t\tdisableTouchRipple\r\n\t\t\t\t\tlabel='Article'\r\n\t\t\t\t\tvalue={MainRoute.ARTICLE}\r\n\t\t\t\t\ticon={<AddIcon />}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<BottomNavigationAction\r\n\t\t\t\t\tdisableTouchRipple\r\n\t\t\t\t\tlabel='User'\r\n\t\t\t\t\tvalue={MainRoute.USER}\r\n\t\t\t\t\ticon={<PersonIcon />}\r\n\t\t\t\t/>\r\n\t\t\t</BottomNavigation>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import { Button } from '@mui/material'\r\nimport { useMatch, useNavigate } from 'react-router-dom'\r\n\r\ninterface NavButtonProps {\r\n\tto: string\r\n\tchildren?: any\r\n}\r\n\r\nexport default function NavButton(props: NavButtonProps) {\r\n\tconst { to, children } = props\r\n\tconst navigate = useNavigate()\r\n\tconst math = useMatch(to)\r\n\r\n\treturn (\r\n\t\t<Button\r\n\t\t\tonClick={() => navigate(to)}\r\n\t\t\tcolor={`${math ? 'primary' : 'secondary'}`}>\r\n\t\t\t{children}\r\n\t\t</Button>\r\n\t)\r\n}\r\n","import SearchIcon from '@mui/icons-material/Search'\r\nimport { InputBase, Paper } from '@mui/material'\r\n// import { useNavigate } from 'react-router-dom'\r\n\r\ninterface Props {\r\n\tto: string\r\n}\r\n\r\nexport default function Searchbar({ to }: Props) {\r\n\t// const navigate = useNavigate()\r\n\t// const go = () => navigate(to)\r\n\r\n\treturn (\r\n\t\t<Paper\r\n\t\t\televation={0}\r\n\t\t\tclassName={`flex items-center mx-1rem`}\r\n\t\t\tsx={{ backgroundColor: '#F3F4F6' }}>\r\n\t\t\t<SearchIcon\r\n\t\t\t\tclassName={`mx-0.3rem`}\r\n\t\t\t\tsx={{ color: '#666666' }}></SearchIcon>\r\n\t\t\t<InputBase placeholder={`Search...`}></InputBase>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n","import ChevronLeftIcon from '@mui/icons-material/ChevronLeft'\r\nimport NotificationsIcon from '@mui/icons-material/Notifications'\r\nimport { AppBar, Avatar, Divider, Toolbar } from '@mui/material'\r\nimport { useSelector } from 'react-redux'\r\nimport { useMatch, useNavigate } from 'react-router'\r\nimport { MainRoute } from '../router/routes'\r\nimport type { Store } from '../store/store'\r\nimport { HiddenWithDesk, HiddenWithMobil } from './Hidden'\r\nimport NavButton from './NavButton'\r\nimport Searchbar from './Searchbar'\r\n\r\nexport default function Header() {\r\n\tconst { avatar, username } = useSelector((state: Store) => state.user)\r\n\tconst navigate = useNavigate()\r\n\tconst match = useMatch({ path: '/', end: true })\r\n\r\n\treturn (\r\n\t\t<AppBar color='inherit' elevation={0} position='sticky'>\r\n\t\t\t<Toolbar className='h-4rem flex justify-between items-center'>\r\n\t\t\t\t<HiddenWithMobil>\r\n\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\tsx={{ width: 32, height: 32 }}\r\n\t\t\t\t\t\tclassName={`mr-0.6rem`}\r\n\t\t\t\t\t\tsrc={avatar}>\r\n\t\t\t\t\t\t{username}\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t</HiddenWithMobil>\r\n\r\n\t\t\t\t<HiddenWithDesk>\r\n\t\t\t\t\t{!match ? (\r\n\t\t\t\t\t\t<ChevronLeftIcon\r\n\t\t\t\t\t\t\tonClick={() => navigate(-1)}\r\n\t\t\t\t\t\t\tcolor={`secondary`}\r\n\t\t\t\t\t\t\tsx={{ color: '#666' }}\r\n\t\t\t\t\t\t\tfontSize={`large`}></ChevronLeftIcon>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className={`w-35px flex items-center blod text-1.25rem`}></div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</HiddenWithDesk>\r\n\r\n\t\t\t\t<HiddenWithMobil\r\n\t\t\t\t\tclassName={`flex-grow box-border h-2.5rem flex items-center`}>\r\n\t\t\t\t\t<nav className={`flex items-center flex-wrap`}>\r\n\t\t\t\t\t\t<NavButton to={MainRoute.HOME}>Home </NavButton>\r\n\t\t\t\t\t\t<NavButton to={MainRoute.ARTICLE}>Article </NavButton>\r\n\t\t\t\t\t\t<NavButton to={MainRoute.USER}>User </NavButton>\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t</HiddenWithMobil>\r\n\r\n\t\t\t\t<Searchbar to={MainRoute.SEARCH}></Searchbar>\r\n\r\n\t\t\t\t{/* <div className='flex justify-end items-center flex-grow'> */}\r\n\t\t\t\t<NotificationsIcon sx={{ color: '#666666' }}></NotificationsIcon>\r\n\t\t\t\t{/* <SettingsIcon></SettingsIcon> */}\r\n\t\t\t\t{/* </div> */}\r\n\t\t\t</Toolbar>\r\n\r\n\t\t\t<HiddenWithDesk className={`box-border h-2.5rem overflow-hidden`}>\r\n\t\t\t\t<Divider variant='middle'></Divider>\r\n\r\n\t\t\t\t<nav className={`flex items-center justify-center overflow-x-auto `}>\r\n\t\t\t\t\t<NavButton to={MainRoute.HOME}>Home </NavButton>\r\n\t\t\t\t\t<NavButton to={MainRoute.ARTICLE}>Article </NavButton>\r\n\t\t\t\t\t<NavButton to={MainRoute.USER}>User </NavButton>\r\n\t\t\t\t</nav>\r\n\t\t\t</HiddenWithDesk>\r\n\t\t</AppBar>\r\n\t)\r\n}\r\n","import { Fragment } from 'react'\r\nimport { Outlet } from 'react-router'\r\nimport Footer from './Footer'\r\nimport Header from './Header'\r\nimport { HiddenWithDesk } from './Hidden'\r\n\r\nexport default function Layout() {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Header />\r\n\r\n\t\t\t<main\r\n\t\t\t\tclassName={`box-border px-1rem pt-0.5rem content-main overflow-y-auto`}>\r\n\t\t\t\t<Outlet />\r\n\t\t\t</main>\r\n\r\n\t\t\t<HiddenWithDesk className={`fixed inset-x-0 bottom-0`} tag='footer'>\r\n\t\t\t\t<Footer />\r\n\t\t\t</HiddenWithDesk>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import { Button, Paper, Typography } from '@mui/material'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Outlet } from 'react-router'\r\nimport { logoutAction } from '../store/user/actions'\r\n\r\nexport default function UserLayout() {\r\n\tconst dispatch = useDispatch()\r\n\r\n\treturn (\r\n\t\t<div className={`h-full w-full`}>\r\n\t\t\t<div className='flex flex-col justify-between items-center flex-grow h-full'>\r\n\t\t\t\t<Outlet></Outlet>\r\n\r\n\t\t\t\t<div className='mb-0.5rem <sm:w-full sm:w-3/5 md:w-3/5 xl:w-3/5 2xl:w-1/2 cursor-pointer'>\r\n\t\t\t\t\t<Paper elevation={0}>\r\n\t\t\t\t\t\t<Button fullWidth onClick={() => dispatch(logoutAction())}>\r\n\t\t\t\t\t\t\t<Typography>注销</Typography>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Paper>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","// import { useSelector } from 'react-redux'\r\n// import { Store } from '../store'\r\nimport { useSelector } from 'react-redux'\r\nimport { Navigate, useLocation } from 'react-router'\r\nimport { Store } from '../store'\r\nimport { MainRoute } from './routes'\r\n\r\nexport default function RequireArticle({\r\n\tchildren,\r\n}: {\r\n\tchildren: JSX.Element\r\n}) {\r\n\tconst articles = useSelector((state: Store) => state.article)\r\n\tconst location = useLocation()\r\n\r\n\treturn articles.length > 0 ? (\r\n\t\tchildren\r\n\t) : (\r\n\t\t<Navigate to={MainRoute.HOME} state={{ from: location }} />\r\n\t)\r\n}\r\n","// import { useSelector } from 'react-redux'\r\n// import { Store } from '../store'\r\nimport { useSelector } from 'react-redux'\r\nimport { Navigate, useLocation } from 'react-router'\r\nimport { Store } from '../store'\r\nimport { MainRoute } from './routes'\r\n\r\nexport default function RequireLogin({ children }: { children: JSX.Element }) {\r\n\tconst { isLogin } = useSelector((state: Store) => state.user)\r\n\tconst location = useLocation()\r\n\r\n\treturn isLogin ? (\r\n\t\tchildren\r\n\t) : (\r\n\t\t<Navigate to={MainRoute.LOGIN} state={{ from: location }} />\r\n\t)\r\n}\r\n","export default function About() {\r\n  return <div>this is About page</div>\r\n}\r\n","import { Alert } from '@mui/material'\r\nimport { useEffect, useState } from 'react'\r\nimport { emitter, MittEventName } from '../apis/mitt'\r\n\r\nlet timer: any = 0\r\n\r\nexport default function AlertMsg() {\r\n\tconst [open, setOpen] = useState(false)\r\n\tconst [msg, setMsg] = useState('')\r\n\r\n\tuseEffect(() => {\r\n\t\temitter.on(MittEventName.ALERT, (msg) => {\r\n\t\t\tsetOpen(true)\r\n\t\t\tsetMsg(msg)\r\n\t\t})\r\n\t\tclearTimeout(timer)\r\n\t\ttimer = setTimeout(() => {\r\n\t\t\tsetOpen(false)\r\n\t\t}, 3000)\r\n\t})\r\n\r\n\treturn (\r\n\t\t<aside id='alert'>\r\n\t\t\t{open && (\r\n\t\t\t\t<div className='relative'>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tseverity='info'\r\n\t\t\t\t\t\tvariant='filled'\r\n\t\t\t\t\t\tclassName={`rounded <sm:mx-1rem sm:ml-1/4 sm:w-1/2 alert-self`}\r\n\t\t\t\t\t\tsx={{\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\tzIndex: 99,\r\n\t\t\t\t\t\t\ttop: '8rem',\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{msg}\r\n\t\t\t\t\t</Alert>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</aside>\r\n\t)\r\n}\r\n","import { Skeleton } from '@mui/material'\r\nimport { Fragment } from 'react'\r\n\r\nexport default function Loading() {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div\r\n\t\t\t\tclassName={`p-1rem h-screen flex flex-col justify-between bg-light-50`}>\r\n\t\t\t\t<section className='mb-1rem w-full flex items-center'>\r\n\t\t\t\t\t<Skeleton variant='circular' width={40} height={40} />\r\n\t\t\t\t\t<div className='flex-grow flex flex-col ml-1rem'>\r\n\t\t\t\t\t\t<Skeleton variant='text' animation='wave' className={`w-1/2`} />\r\n\t\t\t\t\t\t<Skeleton variant='text' animation='wave' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section className={`flex-grow flex flex-col`}>\r\n\t\t\t\t\t<Skeleton variant='rectangular' className={`mb-1rem flex-grow`} />\r\n\t\t\t\t\t<Skeleton variant='text' className={`mb-1rem w-1/2`} />\r\n\t\t\t\t\t<Skeleton variant='rectangular' className={`mb-1rem`} />\r\n\t\t\t\t\t<Skeleton variant='rectangular' className={`mb-1rem`} />\r\n\t\t\t\t\t<Skeleton variant='text' className={`mb-1rem w-1/2`} />\r\n\t\t\t\t\t<Skeleton variant='rectangular' className={`mb-1rem flex-grow`} />\r\n\t\t\t\t\t<Skeleton variant='rectangular' className={`mb-1rem`} />\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section>\r\n\t\t\t\t\t{/* <Skeleton variant='circular' width={40} height={40} /> */}\r\n\t\t\t\t\t<Skeleton variant='text' animation='wave' className={`rounded`} />\r\n\t\t\t\t\t<Skeleton variant='text' className={`w-1/2`} />\r\n\t\t\t\t</section>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { findArticle } from '../apis/article'\r\nimport Article from '../comps/Article'\r\nimport { addArticlesAction } from '../store/article/actions'\r\nimport type { Store } from '../store/store'\r\nimport Loading from './Loading'\r\n\r\nexport default function Home() {\r\n\tconst articles = useSelector((state: Store) => state.article)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\t// const getArticles = useCallback(() => {\r\n\t// \tfindArticle((data) => {\r\n\t// \t\tdispatch(addArticlesAction(data.data))\r\n\t// \t})\r\n\t// }, [dispatch])\r\n\t// const g = useCallback(() => dispatch, [dispatch])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (articles.length > 0) return\r\n\t\tfindArticle((data) => {\r\n\t\t\tdispatch(addArticlesAction(data.data))\r\n\t\t})\r\n\t}, [dispatch, articles])\r\n\r\n\tif (articles.length === 0) return <Loading></Loading>\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`flex flex-col justify-center md:items-center overflow-y-auto`}>\r\n\t\t\t{articles.map((article) => (\r\n\t\t\t\t<Article {...article} key={article._id}></Article>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import React from 'react'\r\n\r\nexport default function NotFound() {\r\n\treturn (\r\n\t\t<main style={{ padding: '1rem' }}>\r\n\t\t\t<p>There's nothing here!</p>\r\n\t\t</main>\r\n\t)\r\n}\r\n","import { createTheme, ThemeProvider } from '@mui/material'\r\nimport { lazy, Suspense } from 'react'\r\nimport { Outlet, Route, Routes } from 'react-router-dom'\r\nimport Layout from './comps/Layout'\r\nimport UserLayout from './comps/UserLayout'\r\nimport RequireArticle from './router/RequireArticle'\r\nimport RequireLogin from './router/RequireLogin'\r\nimport { ArticleChildRoute, MainRoute, UserChildRoute } from './router/routes'\r\nimport About from './views/About'\r\nimport AlertMsg from './views/Alert'\r\nimport Home from './views/Home'\r\nimport Loading from './views/Loading'\r\nimport NotFound from './views/NotFound'\r\n\r\nconst theme = createTheme({\r\n\tpalette: {\r\n\t\tsecondary: {\r\n\t\t\t// This is green.A700 as hex.\r\n\t\t\tmain: '#212121',\r\n\t\t},\r\n\t},\r\n})\r\n\r\nexport default function App() {\r\n\tconst Login = lazy(() => import('./views/Login'))\r\n\tconst Personal = lazy(() => import('./views/Personal'))\r\n\tconst User = lazy(() => import('./views/User'))\r\n\tconst Editor = lazy(() => import('./views/MDEditor'))\r\n\tconst MDViewer = lazy(() => import('./views/MDViewer'))\r\n\tconst ArticleList = lazy(() => import('./views/ArticleList'))\r\n\r\n\treturn (\r\n\t\t<div className='bg-gray-100 w-screen h-screen flex flex-col'>\r\n\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t<Suspense fallback={<Loading />}>\r\n\t\t\t\t\t<AlertMsg />\r\n\t\t\t\t\t<Routes>\r\n\t\t\t\t\t\t<Route path={MainRoute.HOME} element={<Layout />}>\r\n\t\t\t\t\t\t\t<Route index element={<Home />} />\r\n\t\t\t\t\t\t\t<Route path={MainRoute.LOGIN} element={<Login />} />\r\n\t\t\t\t\t\t\t<Route path='about' element={<About />} />\r\n\r\n\t\t\t\t\t\t\t{/* article */}\r\n\t\t\t\t\t\t\t<Route path={MainRoute.ARTICLE} element={<Outlet />}>\r\n\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\tindex\r\n\t\t\t\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t\t\t\t<RequireLogin>\r\n\t\t\t\t\t\t\t\t\t\t\t<Editor />\r\n\t\t\t\t\t\t\t\t\t\t</RequireLogin>\r\n\t\t\t\t\t\t\t\t\t}></Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\tpath={ArticleChildRoute.ARTICLE_ID}\r\n\t\t\t\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t\t\t\t<RequireArticle>\r\n\t\t\t\t\t\t\t\t\t\t\t<MDViewer />\r\n\t\t\t\t\t\t\t\t\t\t</RequireArticle>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t{/* user */}\r\n\t\t\t\t\t\t\t<Route path={MainRoute.USER} element={<Outlet />}>\r\n\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t\t\t\t<RequireLogin>\r\n\t\t\t\t\t\t\t\t\t\t\t<UserLayout />\r\n\t\t\t\t\t\t\t\t\t\t</RequireLogin>\r\n\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t<Route index element={<User />} />\r\n\t\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\t\tpath={UserChildRoute.PERSONAL}\r\n\t\t\t\t\t\t\t\t\t\telement={<Personal />}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t\t\t<Route\r\n\t\t\t\t\t\t\t\t\tpath={UserChildRoute.ARTICLE_LIST}\r\n\t\t\t\t\t\t\t\t\telement={\r\n\t\t\t\t\t\t\t\t\t\t<RequireLogin>\r\n\t\t\t\t\t\t\t\t\t\t\t<ArticleList />\r\n\t\t\t\t\t\t\t\t\t\t</RequireLogin>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t</Route>\r\n\r\n\t\t\t\t\t\t{/* all redirect */}\r\n\t\t\t\t\t\t<Route path='*' element={<NotFound />} />\r\n\t\t\t\t\t</Routes>\r\n\t\t\t\t</Suspense>\r\n\t\t\t</ThemeProvider>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { Action, ActionTypes, Article } from './actionTypes'\r\n// import {} from\r\n\r\nconst initial: Article = {\r\n\taccount: '',\r\n\t_id: '',\r\n\ttitle: '',\r\n\tcontent: '',\r\n\tlike: 0,\r\n\twatch: 0,\r\n\tcomment: 0,\r\n\tcreateTime: '',\r\n\tupdateTime: '',\r\n\tcover: '',\r\n\tcategory: '',\r\n\tsummary: '',\r\n}\r\n\r\nexport const reducer = (state: Article[] = [], action: Action) => {\r\n\tconst { type, ...res } = action\r\n\r\n\tswitch (type) {\r\n\t\tcase ActionTypes.ARTICLE_ADD: {\r\n\t\t\tstate.push({ ...initial, ...res })\r\n\t\t\treturn state\r\n\t\t}\r\n\r\n\t\tcase ActionTypes.ARTICLES_ADD: {\r\n\t\t\tstate = [...action.data, ...state]\r\n\r\n\t\t\treturn state\r\n\t\t}\r\n\r\n\t\tdefault: {\r\n\t\t\treturn state\r\n\t\t}\r\n\t}\r\n}\r\n","import { Gender_en } from '../../constant/user'\r\nimport { Action, ActionTypes, UserState } from './actionTypes'\r\n\r\nconst initial: UserState = {\r\n\tisLogin: false,\r\n\ttoken: '',\r\n\taccount: '',\r\n\tusername: '',\r\n\tavatar: '',\r\n\tgender: Gender_en.MALE,\r\n\tsignature: '',\r\n\tarticles: [],\r\n}\r\n\r\nexport const reducer = (state = initial, action: Action) => {\r\n\tconst { type, ...res } = action\r\n\tswitch (type) {\r\n\t\tcase ActionTypes.LOGIN: {\r\n\t\t\treturn (state = { ...initial, ...res, isLogin: true })\r\n\t\t}\r\n\r\n\t\tcase ActionTypes.LOGOUT: {\r\n\t\t\treturn (state = initial)\r\n\t\t}\r\n\r\n\t\tcase ActionTypes.MODIFY: {\r\n\t\t\tstate = { ...state, ...res }\r\n\r\n\t\t\treturn state\r\n\t\t}\r\n\r\n\t\tcase ActionTypes.GET_ARTICLES: {\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tarticles: [...(state.articles || []), ...action.articles],\r\n\t\t\t}\r\n\t\t\treturn state\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state\r\n\t}\r\n}\r\n","import { combineReducers, createStore } from 'redux'\r\nimport { reducer as articelReducer } from './article/reducers'\r\nimport { reducer as userReducer } from './user/reducers'\r\n\r\nconst reducers = combineReducers({\r\n\tuser: userReducer,\r\n\tarticle: articelReducer,\r\n})\r\n\r\nexport type Store = ReturnType<typeof reducers>\r\n\r\nconst store = createStore(reducers)\r\n\r\nexport default store\r\n","import store from './store'\r\n\r\nexport default store\r\n\r\nexport type { Store } from './store'\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter } from 'react-router-dom'\n// import 'windi.css'\nimport App from './App'\nimport './index.css'\n// import reportWebVitals from './reportWebVitals'\nimport store from './store'\nimport './virtual:windi.css'\n\n// require('windi.css')\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<App />\n\t\t\t</BrowserRouter>\n\t\t</Provider>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n","// export enum MainRoute {\r\n// \tHOME = '',\r\n// \tLOGIN = '/login',\r\n// \tCREATE_USER = '/createUser',\r\n// \tABOUT = '/about',\r\n// \tPERSONAL = '/personal',\r\n// \tEDITOR = '/editor',\r\n// \tCREATE_ARTICLE = '/createArticle',\r\n// \tARTICLES = '/article',\r\n// }\r\n\r\nexport enum MainRoute {\r\n\tHOME = '/',\r\n\tUSER = '/user',\r\n\tARTICLE = '/article',\r\n\tLOGIN = '/login',\r\n\tPERSONAL = '/personal',\r\n\tSEARCH = '/search',\r\n}\r\n\r\nexport enum HomeChildRoute {}\r\n\r\nexport enum UserChildRoute {\r\n\tPERSONAL = 'personal',\r\n\tARTICLE_LIST = 'articlelist',\r\n}\r\n\r\nexport enum ArticleChildRoute {\r\n\tARTICLE_ID = ':id',\r\n}\r\n","import Mitt from 'mitt'\r\n\r\nexport enum MittEventName {\r\n\tALERT = 'ALERT',\r\n\tALERT_DIALOG = 'ALERT_DIALOG',\r\n}\r\n\r\ntype Events = {\r\n\t[MittEventName.ALERT]: string\r\n}\r\n\r\nexport const emitter = Mitt<Events>()\r\n\r\n/*\r\nExample\r\n\r\nimport mitt from 'mitt';\r\n\r\ntype Events = {\r\n  foo: string;\r\n  bar?: number;\r\n};\r\n\r\nconst emitter = mitt<Events>(); // inferred as Emitter<Events>\r\n\r\nemitter.on('foo', (e) => {}); // 'e' has inferred type 'string'\r\n\r\nemitter.emit('foo', 42); // Error: Argument of type 'number' is not assignable to parameter of type 'string'. (2345)\r\n\r\n*/\r\n","import { Gender_en } from '../../constant/user'\r\nimport { UserInfo } from '../../types/user'\r\nimport { Article } from '../article/actionTypes'\r\n\r\nexport enum ActionTypes {\r\n\tLOGIN = 'LOGIN',\r\n\tLOGOUT = 'LOGOUT',\r\n\tMODIFY = 'MODIFY',\r\n\tADD_ARTICLE = 'ADD_ARTICLE',\r\n\tDEL_ARTICLE = 'DEL_ARTICLE',\r\n\tMODIFY_ARTICLE = 'MODIFY_ARTICLE',\r\n\tGET_ARTICLES = 'GET_ARTICLES',\r\n}\r\n\r\nexport interface UserConfig {\r\n\ttoken: string\r\n\taccount: string\r\n\tusername?: string\r\n\tavatar?: string\r\n\tgender?: Gender_en\r\n\tsignature?: string\r\n\tarticles?: Article[]\r\n}\r\n\r\nexport type UserState = { isLogin: boolean } & UserConfig\r\n\r\nexport interface LoginAction extends UserConfig {\r\n\ttype: ActionTypes.LOGIN\r\n}\r\n\r\nexport interface LogoutAction {\r\n\ttype: ActionTypes.LOGOUT\r\n}\r\n\r\nexport interface ModifyUserInfo extends UserInfo {\r\n\ttype: ActionTypes.MODIFY\r\n}\r\n\r\nexport interface getArticles {\r\n\ttype: ActionTypes.GET_ARTICLES\r\n\tarticles: Article[]\r\n}\r\n\r\nexport type Action = LoginAction | LogoutAction | ModifyUserInfo | getArticles\r\n","import type { ReactJSXElement } from '@emotion/react/types/jsx-namespace'\r\nimport { createElement } from 'react'\r\n\r\ninterface Props {\r\n\tchildren: ReactJSXElement | Array<ReactJSXElement>\r\n\tclassName?: string\r\n\ttag?: string\r\n}\r\n\r\nexport function HiddenWithMobil({\r\n\tchildren,\r\n\tclassName = '',\r\n\ttag = 'div',\r\n}: Props) {\r\n\treturn createElement(\r\n\t\ttag,\r\n\t\t{ className: `<sm:hidden ${className}`.trim() },\r\n\t\tchildren\r\n\t)\r\n}\r\n\r\nexport function HiddenWithDesk({\r\n\tchildren,\r\n\tclassName = '',\r\n\ttag = 'div',\r\n}: Props) {\r\n\treturn createElement(\r\n\t\ttag,\r\n\t\t{ className: `sm:hidden ${className}`.trim() },\r\n\t\tchildren\r\n\t)\r\n}\r\n","export interface Article {\r\n\taccount: string\r\n\ttitle: string\r\n\tcontent: string\r\n\t_id?: string\r\n\tlike?: number\r\n\twatch?: number\r\n\tcomment?: number\r\n\tcreateTime?: string\r\n\tupdateTime?: string\r\n\tcover?: string\r\n\tsummary?: string\r\n\tcategory?: string\r\n}\r\n\r\nexport enum ActionTypes {\r\n\tARTICLE_ADD = 'ARTICLE_ADD',\r\n\tARTICLES_ADD = 'ARTICLES_ADD',\r\n\tARTICLE_OWN_ADD = 'ARTICLE_OWN_ADD',\r\n\tARTICLE_DEL = 'ARTICLE_DEL',\r\n\tARTICLE_UPDATE = 'ARTICLE_UPDATE',\r\n\tARTICLE_SEARCH = 'ARTICLE_SEARCH',\r\n\tARTICLE_REPLY = 'ARTICLE_REPLY',\r\n\tARTICLE_WATCHED = 'ARTICLE_WATCHED',\r\n\tARTICLE_LIKED = 'ARTICLE_LIKED',\r\n}\r\n\r\nexport interface AddArticle extends Article {\r\n\ttype: ActionTypes.ARTICLE_ADD\r\n}\r\n\r\nexport interface AddArticles {\r\n\ttype: ActionTypes.ARTICLES_ADD\r\n\tdata: Article[]\r\n}\r\n\r\nexport interface AddOwnArticles {\r\n\ttype: ActionTypes.ARTICLE_OWN_ADD\r\n\tdata: Article[]\r\n}\r\n\r\nexport type Action = AddArticle | AddArticles | AddOwnArticles\r\n","import { emitter, MittEventName } from './mitt'\r\n\r\nconst url = 'http://sniqa.com/gateway'\r\n\r\nconst request = (url: string, data: any) => {\r\n\treturn new Request(url, {\r\n\t\tmethod: 'POST',\r\n\t\tbody: JSON.stringify(data),\r\n\t\theaders: new Headers({\r\n\t\t\t'Content-Type': 'application/json',\r\n\t\t}),\r\n\t\tmode: 'cors',\r\n\t\tcache: 'default',\r\n\t})\r\n}\r\n\r\n// const _fetch = (data: any) => {\r\n// \tconst $_fetch = () => {\r\n// \t\treturn fetch(requset(url, data))\r\n// \t\t\t.then(function (response) {\r\n// \t\t\t\tif (response.ok) {\r\n// \t\t\t\t\treturn response.json()\r\n// \t\t\t\t}\r\n// \t\t\t\tthrow new Error('Network response was not ok.')\r\n// \t\t\t})\r\n// \t\t\t.then(function (myBlob) {\r\n// \t\t\t\treturn myBlob\r\n// \t\t\t})\r\n// \t\t\t.catch(function (error) {\r\n// \t\t\t\tconsole.log(\r\n// \t\t\t\t\t'There has been a problem with your fetch operation: ',\r\n// \t\t\t\t\terror.message\r\n// \t\t\t\t)\r\n// \t\t\t})\r\n// \t}\r\n\r\n// \treturn $_fetch\r\n// }\r\n\r\nexport interface SuccessResponse {\r\n\tsuccess: true\r\n\tdata: any\r\n\ttoken?: string\r\n}\r\n\r\nexport interface ErrorResponse {\r\n\tsuccess: false\r\n\tcode: number\r\n\terrMsg: string\r\n}\r\n\r\ninterface ResponseTrue {\r\n\t[controller: string]: SuccessResponse\r\n}\r\n\r\ninterface ResponseFalse {\r\n\t[controller: string]: ErrorResponse\r\n}\r\n\r\nexport type ResponseState = ResponseFalse | ResponseTrue\r\n\r\nexport const useFetch = async <T = ResponseState>(\r\n\trequest: Request,\r\n\tnetError?: () => any,\r\n\tresolve?: (data: any) => any,\r\n\treject?: (err: any) => void,\r\n\tfinal?: () => void\r\n) => {\r\n\treturn fetch(request)\r\n\t\t.then(function (response) {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json()\r\n\t\t\t}\r\n\t\t\tnetError && netError()\r\n\t\t})\r\n\t\t.then<T>(function (data: T) {\r\n\t\t\treturn resolve ? resolve(data) : data\r\n\t\t})\r\n\t\t.catch<T>(function (error) {\r\n\t\t\treturn reject ? reject(error) : error\r\n\t\t})\r\n\t\t.finally(() => final && final())\r\n}\r\n\r\nconst _fetch = async (\r\n\tdata: any,\r\n\tresolv: (data: SuccessResponse) => void,\r\n\tfinal?: () => void\r\n) =>\r\n\tuseFetch(\r\n\t\trequest(url, data),\r\n\t\t() => emitter.emit(MittEventName.ALERT, `network error`),\r\n\t\t(data) => {\r\n\t\t\tconst res = Object.values(data)[0] as SuccessResponse | ErrorResponse\r\n\t\t\tif (res.success) {\r\n\t\t\t\treturn resolv(res)\r\n\t\t\t} else {\r\n\t\t\t\treturn emitter.emit(MittEventName.ALERT, res.errMsg)\r\n\t\t\t}\r\n\t\t},\r\n\t\t() => emitter.emit(MittEventName.ALERT, `network error`),\r\n\t\t() => final && final()\r\n\t)\r\n\r\nexport default _fetch\r\n","import { UserInfo } from '../../types/user'\r\nimport { Article } from '../article/actionTypes'\r\nimport {\r\n\tActionTypes,\r\n\tLoginAction,\r\n\tLogoutAction,\r\n\tModifyUserInfo,\r\n\tUserConfig,\r\n} from './actionTypes'\r\n\r\nexport const loginAction = (data: UserConfig): LoginAction => ({\r\n\ttype: ActionTypes.LOGIN,\r\n\t...data,\r\n})\r\n\r\nexport const logoutAction = (): LogoutAction => ({\r\n\ttype: ActionTypes.LOGOUT,\r\n})\r\n\r\nexport const modifyUserInfoAction = (data: UserInfo): ModifyUserInfo => ({\r\n\ttype: ActionTypes.MODIFY,\r\n\t...data,\r\n})\r\n\r\nexport const getUserArticleAction = (articles: Article[]) => ({\r\n\ttype: ActionTypes.GET_ARTICLES,\r\n\tarticles,\r\n})\r\n","import _fetch, { SuccessResponse } from './fetch'\r\nimport { emitter, MittEventName } from './mitt'\r\n\r\ninterface Article {\r\n\tauthor: string\r\n\ttitle: string\r\n\tcontent: string\r\n}\r\n\r\nexport const createArticle = async (\r\n\tarticle: Article,\r\n\tresole: (data: SuccessResponse) => void\r\n) => {\r\n\tconst { author, title, content } = article\r\n\r\n\tif (!(author && title && content)) {\r\n\t\treturn emitter.emit(MittEventName.ALERT, `文章标题或内容不能为空`)\r\n\t}\r\n\r\n\tawait _fetch({ createArticle: article }, resole)\r\n}\r\n\r\ninterface FindArticleCondition {\r\n\taccount?: string\r\n\tpageNum?: number\r\n\tpageLen?: number\r\n}\r\n\r\nexport const findArticle = async (\r\n\tresole: (data: SuccessResponse) => void,\r\n\tcondition: FindArticleCondition = {}\r\n) => {\r\n\tawait _fetch({ getArticle: condition }, resole)\r\n}\r\n","import type { ReactJSXElement } from '@emotion/react/types/jsx-namespace'\r\nimport ModeCommentIcon from '@mui/icons-material/ModeComment'\r\nimport ModeCommentOutlinedIcon from '@mui/icons-material/ModeCommentOutlined'\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert'\r\nimport RemoveRedEyeIcon from '@mui/icons-material/RemoveRedEye'\r\nimport RemoveRedEyeOutlinedIcon from '@mui/icons-material/RemoveRedEyeOutlined'\r\nimport ThumbUpIcon from '@mui/icons-material/ThumbUp'\r\nimport ThumbUpAltOutlinedIcon from '@mui/icons-material/ThumbUpAltOutlined'\r\nimport { CardMedia, Divider, Paper, Typography } from '@mui/material'\r\nimport { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { MainRoute } from '../router/routes'\r\nimport { Store } from '../store'\r\nimport type { Article as ArticleProps } from '../store/article/actionTypes'\r\n\r\nexport default function Article(props: ArticleProps) {\r\n\tconst navigate = useNavigate()\r\n\r\n\tconst { account: loginUser } = useSelector((state: Store) => state.user)\r\n\r\n\tconst {\r\n\t\taccount = '',\r\n\t\t_id,\r\n\t\ttitle = '',\r\n\t\tcreateTime = '',\r\n\t\t// updateTime = '',\r\n\t\tlike = 0,\r\n\t\twatch = 0,\r\n\t\tcomment = 0,\r\n\t\tcover = '',\r\n\t\tsummary = '',\r\n\t} = props\r\n\r\n\tconst isOwnArticle = account === loginUser\r\n\r\n\treturn (\r\n\t\t<Paper\r\n\t\t\televation={0}\r\n\t\t\tclassName={\r\n\t\t\t\t'px-0.8rem py-0.5rem mb-0.5rem flex flex-col <md:flex-grow  md:w-1/2 cursor-pointer'\r\n\t\t\t}\r\n\t\t\tcomponent='article'>\r\n\t\t\t<header className={`flex items-center text-gray-500 text-sm`}>\r\n\t\t\t\t{/* account and creation date */}\r\n\r\n\t\t\t\t<Typography sx={{ fontSize: 'inherit', fontWeight: '500' }}>\r\n\t\t\t\t\t{account}\r\n\t\t\t\t</Typography>\r\n\r\n\t\t\t\t<Divider\r\n\t\t\t\t\torientation='vertical'\r\n\t\t\t\t\tvariant='middle'\r\n\t\t\t\t\tflexItem\r\n\t\t\t\t\tsx={{\r\n\t\t\t\t\t\tmx: '0.5rem',\r\n\t\t\t\t\t\tmt: '0.5rem',\r\n\t\t\t\t\t\theight: '1rem',\r\n\t\t\t\t\t}}></Divider>\r\n\r\n\t\t\t\t<Typography sx={{ fontSize: 'inherit' }}>\r\n\t\t\t\t\t{new Date(createTime).toLocaleDateString()}\r\n\t\t\t\t</Typography>\r\n\t\t\t</header>\r\n\r\n\t\t\t{/* article content and img */}\r\n\t\t\t<main\r\n\t\t\t\tclassName={`flex justify-between`}\r\n\t\t\t\tonClick={() => navigate(`${MainRoute.ARTICLE}/${_id}`)}>\r\n\t\t\t\t<section className={`text-gray-500`}>\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tcomponent={`h3`}\r\n\t\t\t\t\t\tclassName={`text-dark-900 one-line-ellipsis`}\r\n\t\t\t\t\t\tsx={{ fontSize: '1rem', fontWeight: '700' }}>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\tsx={{ fontSize: '0.875rem', mt: '0.5rem' }}\r\n\t\t\t\t\t\tclassName={`two-line-ellipsis`}>\r\n\t\t\t\t\t\t{summary}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<figure className={``}>\r\n\t\t\t\t\t{cover && (\r\n\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\tcomponent='img'\r\n\t\t\t\t\t\t\tsx={{ height: '80px', width: '120px', flexGrow: 0, ml: '0.6rem' }}\r\n\t\t\t\t\t\t\timage={cover}\r\n\t\t\t\t\t\t\talt={''}></CardMedia>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</figure>\r\n\t\t\t</main>\r\n\r\n\t\t\t{/* counter */}\r\n\t\t\t<footer className={`flex justify-between text-sm`}>\r\n\t\t\t\t<section className='flex'>\r\n\t\t\t\t\t<Counter\r\n\t\t\t\t\t\tcount={watch}\r\n\t\t\t\t\t\ticon={<RemoveRedEyeIcon fontSize='inherit' />}\r\n\t\t\t\t\t\tclickedIcon={<RemoveRedEyeOutlinedIcon fontSize='inherit' />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Counter\r\n\t\t\t\t\t\tcount={like}\r\n\t\t\t\t\t\ticon={<ThumbUpIcon fontSize='inherit' />}\r\n\t\t\t\t\t\tclickedIcon={<ThumbUpAltOutlinedIcon fontSize='inherit' />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Counter\r\n\t\t\t\t\t\tcount={comment}\r\n\t\t\t\t\t\ticon={<ModeCommentIcon fontSize='inherit' />}\r\n\t\t\t\t\t\tclickedIcon={<ModeCommentOutlinedIcon fontSize='inherit' />}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t{isOwnArticle && (\r\n\t\t\t\t\t<section>\r\n\t\t\t\t\t\t<MoreVertIcon sx={{ color: '#aaa' }} />\r\n\t\t\t\t\t</section>\r\n\t\t\t\t)}\r\n\t\t\t</footer>\r\n\t\t</Paper>\r\n\t)\r\n}\r\n\r\ninterface CounterProps {\r\n\ticon: ReactJSXElement\r\n\tclickedIcon: ReactJSXElement\r\n\tcount: number\r\n}\r\n\r\n// icon and counter\r\nfunction Counter({ icon, clickedIcon, count }: CounterProps) {\r\n\tconst [isClicked, setIsClicked] = useState(false)\r\n\tconst [curCount, setCurCount] = useState(count)\r\n\tconst iconOnClick = () => {\r\n\t\tif (curCount > count) {\r\n\t\t\tsetIsClicked(false)\r\n\t\t\tsetCurCount(curCount - 1)\r\n\t\t} else {\r\n\t\t\tsetIsClicked(true)\r\n\t\t\tsetCurCount(curCount + 1)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`flex items-center text-sm ${\r\n\t\t\t\tisClicked ? 'text-blue-400' : 'text-gray-400'\r\n\t\t\t}`}\r\n\t\t\tonClick={iconOnClick}>\r\n\t\t\t{isClicked ? icon : clickedIcon}\r\n\t\t\t<Typography sx={{ ml: '0.3rem', mr: '1rem', fontSize: 'inherit' }}>\r\n\t\t\t\t{curCount > 1000 ? numToFinancialNotation(curCount) : curCount}\r\n\t\t\t</Typography>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// Digital-to-financial notation\r\nconst numToFinancialNotation = (num: number): string => {\r\n\tconst k = 1_000\r\n\tconst m = 1_000_000\r\n\tconst b = 1_000_000_000\r\n\r\n\tif (num >= k && num < m) {\r\n\t\tconst res = Math.floor(num / (k / 10)) / 10\r\n\t\treturn `${res}k`\r\n\t}\r\n\tif (num >= m && num < b) {\r\n\t\tconst res = Math.floor(num / (m / 10)) / 10\r\n\t\treturn `${res}m`\r\n\t}\r\n\tif (num >= b) {\r\n\t\tconst res = Math.floor(num / (m / 10)) / 10\r\n\t\treturn `${res}b`\r\n\t}\r\n\treturn num.toString()\r\n}\r\n","import { ActionTypes, Article } from './actionTypes'\r\n\r\nexport const addArticleAction = (data: Article) => ({\r\n\ttype: ActionTypes.ARTICLE_ADD,\r\n\t...data,\r\n})\r\n\r\nexport const addArticlesAction = (data: Article[]) => ({\r\n\ttype: ActionTypes.ARTICLES_ADD,\r\n\tdata,\r\n})\r\n","export enum Gender_en {\r\n\tFEMALE = 'female',\r\n\tMALE = 'male',\r\n}\r\n\r\n// enum Language {\r\n// \tZH = '中文',\r\n// \tEN = '英语',\r\n// }\r\n\r\nexport enum Gender_zh {\r\n\tFEMALE = '女',\r\n\tMALE = '男',\r\n}\r\n\r\nexport const Gender_enToGender_zh = (type: Gender_en) => {\r\n\tswitch (type) {\r\n\t\tcase Gender_en.FEMALE:\r\n\t\t\treturn Gender_zh.FEMALE\r\n\t\tcase Gender_en.MALE:\r\n\t\t\treturn Gender_zh.MALE\r\n\t}\r\n}\r\n"],"sourceRoot":""}