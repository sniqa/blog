(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[7],{207:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return l})),r.d(t,"c",(function(){return O}));var n=r(16),a=r(29),c=r.n(a),u=r(39),i=r(60),s=r(26),o=function(){var e=Object(u.a)(c.a.mark((function e(t,r,n){var a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.account,u=t.password,a&&u){e.next=3;break}return e.abrupt("return",s.b.emit(s.a.ALERT,"\u4e0d\u80fd\u4e3a\u7a7a"));case 3:return e.abrupt("return",Object(i.a)({login:t},r,n));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(c.a.mark((function e(t,r,n){var a,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.account,u=t.password,a&&u){e.next=3;break}return e.abrupt("return",s.b.emit(s.a.ALERT,"\u4e0d\u80fd\u4e3a\u7a7a"));case 3:return e.abrupt("return",Object(i.a)({createUser:t},r,n));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(c.a.mark((function e(t,r,a,u){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",s.b.emit(s.a.ALERT,"\u4fee\u6539\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u767b\u5f55\u4fe1\u606f"));case 2:return e.abrupt("return",Object(i.a)({modifyUserInfo:Object(n.a)({token:t},r)},a,u));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()},208:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(209),a=r.n(n),c=r(138),u=r(1);function i(e){var t=e.left,r=void 0===t?"":t,n=e.children,i=void 0===n?"":n,s=e.onClick;return Object(u.jsx)("div",{onClick:s,className:"mb-0.5rem <sm:w-full sm:w-3/5 md:w-3/5 xl:w-3/5 2xl:w-1/2 cursor-pointer hover:bg-blue-200",children:Object(u.jsxs)(c.a,{elevation:0,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",pl:"1rem",pr:"0.6rem",py:"10px"},children:[r,Object(u.jsx)("div",{className:"flex-grow flex justify-end",children:i}),Object(u.jsx)(a.a,{sx:{color:"#86909C"}})]})})}},232:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(29),a=r.n(n),c=r(39),u=r(13),i=r(233),s=r.n(i),o=r(0),l=r(26),O=r(60),b=function(e,t){return new Request(e,{method:"POST",body:t,headers:new Headers,mode:"cors",cache:"default"})},f=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new FormData,Array.isArray(t))for(u=0;u<t.length;u++)c.append("filename",t[u]);else c.append("filename",t);return e.abrupt("return",Object(O.b)(b("http://sniqa.com/upload",c),(function(){return l.b.emit(l.a.ALERT,"network error")}),(function(e){return e.success?r(e):l.b.emit(l.a.ALERT,e.errMsg)}),(function(){return l.b.emit(l.a.ALERT,"network error")}),(function(){return n&&n()})));case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),j=r(1);function d(e){var t=e.onUploadReady,r=e.color,n=void 0===r?"primary":r,i=e.bgColor,O=void 0===i?"bg-light-50":i,b=e.bgImage,d=void 0===b?"":b,m=Object(o.useState)(d),p=Object(u.a)(m,2),x=p[0],h=p[1],v=function(){var e=Object(c.a)(a.a.mark((function e(r){var n,c,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.target.files){e.next=3;break}return e.abrupt("return",l.b.emit(l.a.ALERT,"\u4e0a\u4f20\u5931\u8d25"));case 3:c=n[0],(u=new FileReader).readAsDataURL(c),u.onload=function(e){var t;h(null===(t=e.target)||void 0===t?void 0:t.result)},f(c,(function(e){var r=e.data.fileUrl;t(r)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"overflow-hidden m-auto relative h-6rem w-10rem rounded z-1 ".concat(O," ").concat(n).trim(),children:[Object(j.jsx)("img",{src:x||"",alt:"",className:"absolute z-2 w-full h-full opacity-90"}),Object(j.jsx)("input",{type:"file",className:"w-full h-5rem h-8rem absolute -top-2rem bg-transparent z-5",onChange:v}),Object(j.jsx)("div",{className:"absolute w-3rem h-3rem top-1.5rem left-3.5rem flex justify-center items-center z-3",children:Object(j.jsx)(s.a,{color:"primary",sx:{zIndex:4}})})]})}},517:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n,a,c=r(16),u=r(13),i=r(165),s=r(528),o=r(523),l=r(530),O=r(531),b=r(525),f=r(49),j=r(164),d=r(0),m=r(20),p=r(207),x=r(208),h=r(232),v=r(90),A=r(78),E=r(1);!function(e){e[e.SHOW_AVATAR_BOX=0]="SHOW_AVATAR_BOX",e[e.SHOW_USERNAME_BOX=1]="SHOW_USERNAME_BOX",e[e.SHOW_GENDER_BOX=2]="SHOW_GENDER_BOX",e[e.SHOW_SIGNATURE_BOX=3]="SHOW_SIGNATURE_BOX"}(n||(n={})),function(e){e.AVATAR_BOX="\u4e0a\u4f20\u5934\u50cf",e.USERNAME_BOX="\u6635\u79f0",e.GENDER_BOX="\u6027\u522b",e.SIGNATURE_BOX="\u7b7e\u540d"}(a||(a={}));var _=function(e){switch(e){case n.SHOW_AVATAR_BOX:return a.AVATAR_BOX;case n.SHOW_USERNAME_BOX:return a.USERNAME_BOX;case n.SHOW_GENDER_BOX:return a.GENDER_BOX;case n.SHOW_SIGNATURE_BOX:return a.SIGNATURE_BOX}};function g(){var e=Object(m.c)((function(e){return e.user})),t=e.token,r=e.avatar,a=void 0===r?"":r,l=e.username,O=void 0===l?"":l,b=e.gender,f=void 0===b?v.a.MALE:b,j=e.signature,g=void 0===j?"":j,w=Object(d.useState)(!1),N=Object(u.a)(w,2),B=N[0],X=N[1],y=Object(d.useState)({avatar:a,username:O,gender:f,signature:g}),k=Object(u.a)(y,2),T=k[0],C=k[1],H=Object(d.useState)(n.SHOW_USERNAME_BOX),U=Object(u.a)(H,2),W=U[0],G=U[1],M=Object(m.b)(),L=function(e){G(e),X(!0)};return Object(E.jsxs)("div",{className:"h-full w-full",children:[Object(E.jsxs)("div",{className:"flex flex-col items-center flex-grow h-full",children:[Object(E.jsx)(x.a,{left:"\u5934\u50cf",onClick:function(){return L(n.SHOW_AVATAR_BOX)},children:Object(E.jsx)(i.a,{src:a,children:O})}),Object(E.jsx)(x.a,{left:"\u6635\u79f0",onClick:function(){return L(n.SHOW_USERNAME_BOX)},children:O}),Object(E.jsx)(x.a,{left:"\u6027\u522b",onClick:function(){return L(n.SHOW_GENDER_BOX)},children:Object(v.b)(f)}),Object(E.jsx)(x.a,{left:"\u7b7e\u540d",onClick:function(){return L(n.SHOW_SIGNATURE_BOX)},children:g})]}),Object(E.jsx)(s.a,{open:B,children:Object(E.jsx)(S,{title:_(W),onConfirm:function(){Object(p.c)(t,T,(function(){M(Object(A.d)(T))})),X(!1)},onCancel:function(){return X(!1)},children:function(){switch(W){case n.SHOW_AVATAR_BOX:return Object(E.jsx)(h.a,{bgImage:T.avatar,bgColor:"bg-gray-100",onUploadReady:function(e){return C(Object(c.a)(Object(c.a)({},T),{},{avatar:e}))}});case n.SHOW_USERNAME_BOX:return Object(E.jsx)(o.a,{size:"small",sx:{my:"1rem"},defaultValue:T.username,onChange:function(e){return C(Object(c.a)(Object(c.a)({},T),{},{username:e.target.value}))}});case n.SHOW_GENDER_BOX:return Object(E.jsx)(R,{defaultValue:T.gender,onChange:function(e){return C(Object(c.a)(Object(c.a)({},T),{},{gender:e.target.value}))}});case n.SHOW_SIGNATURE_BOX:return Object(E.jsx)(o.a,{size:"small",sx:{my:"1rem"},defaultValue:T.signature,onChange:function(e){return C(Object(c.a)(Object(c.a)({},T),{},{signature:e.target.value}))}});default:return null}}()})})]})}function R(e){var t=e.onChange,r=e.defaultValue;return Object(E.jsxs)(l.a,{"aria-label":"gender",value:r,name:"radio-buttons-group",onChange:t,children:[Object(E.jsx)(O.a,{value:v.a.FEMALE,control:Object(E.jsx)(b.a,{}),label:Object(v.b)(v.a.FEMALE)}),Object(E.jsx)(O.a,{value:v.a.MALE,control:Object(E.jsx)(b.a,{}),label:Object(v.b)(v.a.MALE)})]})}function S(e){var t=e.children,r=e.title,n=void 0===r?"Title":r,a=e.onConfirm,c=e.onCancel;return Object(E.jsxs)(d.Fragment,{children:[Object(E.jsxs)("div",{className:"flex flex-col px-4 pt-4 min-w-16rem",children:[Object(E.jsx)(f.a,{color:"primary",sx:{mb:"0.5rem"},children:n}),t]}),Object(E.jsxs)("div",{className:"flex justify-end mt-2",children:[Object(E.jsx)(j.a,{onClick:c,children:"\u53d6\u6d88"}),Object(E.jsx)(j.a,{onClick:a,children:"\u786e\u8ba4"})]})]})}}}]);
//# sourceMappingURL=7.99d87e6a.chunk.js.map