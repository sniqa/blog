{"version":3,"sources":["apis/user.ts","comps/SettingPaper.tsx","apis/upload.ts","comps/Upload.tsx","views/Personal.tsx"],"names":["login","user","resole","final","a","account","password","emitter","emit","MittEventName","ALERT","_fetch","createUser","modifyUserInfo","token","SettingPaper","props","left","children","onClick","className","elevation","sx","display","justifyContent","alignItems","width","pl","pr","py","color","requset","url","data","Request","method","body","headers","Headers","mode","cache","upload","files","resolv","formData","FormData","Array","isArray","i","length","append","useFetch","success","errMsg","Upload","onUploadReady","bgColor","bgImage","useState","bgImg","setBgImg","onFileReady","e","target","file","fileReader","FileReader","readAsDataURL","onload","evt","result","res","fileUrl","trim","src","alt","type","onChange","zIndex","DialogState","DialogTitle","getDialogTitle","SHOW_AVATAR_BOX","AVATAR_BOX","SHOW_USERNAME_BOX","USERNAME_BOX","SHOW_GENDER_BOX","GENDER_BOX","SHOW_SIGNATURE_BOX","SIGNATURE_BOX","Personal","useSelector","store","avatar","username","gender","Gender_en","MALE","signature","open","setOpen","personInfo","setPersonInfo","dialogType","setDialogType","dispatch","useDispatch","openDialog","Gender_enToGender_zh","PersonalEditBox","title","onConfirm","modifyUserInfoAction","onCancel","size","my","defaultValue","value","GenderSelector","aria-label","name","FEMALE","control","label","mb"],"mappings":"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","file":"static/js/7.99d87e6a.chunk.js","sourcesContent":["import { UserInfo } from '../types/user'\r\nimport _fetch, { SuccessResponse } from './fetch'\r\nimport { emitter, MittEventName } from './mitt'\r\n\r\ninterface User {\r\n\taccount: string\r\n\tpassword: String\r\n}\r\n\r\nexport const login = async (\r\n\tuser: User,\r\n\tresole: (result: SuccessResponse) => void,\r\n\tfinal?: () => void\r\n) => {\r\n\tconst { account, password } = user\r\n\r\n\tif (!(account && password)) {\r\n\t\treturn emitter.emit(MittEventName.ALERT, `不能为空`)\r\n\t}\r\n\r\n\treturn _fetch({ login: user }, resole, final)\r\n}\r\n\r\nexport const createUser = async (\r\n\tuser: User,\r\n\tresole: (result: SuccessResponse) => void,\r\n\tfinal?: () => void\r\n) => {\r\n\tconst { account, password } = user\r\n\r\n\tif (!(account && password)) {\r\n\t\treturn emitter.emit(MittEventName.ALERT, `不能为空`)\r\n\t}\r\n\r\n\treturn _fetch({ createUser: user }, resole, final)\r\n}\r\n\r\nexport const modifyUserInfo = async (\r\n\ttoken: string,\r\n\tuser: UserInfo,\r\n\tresole: (result: SuccessResponse) => void,\r\n\tfinal?: () => void\r\n) => {\r\n\tif (!token) {\r\n\t\treturn emitter.emit(MittEventName.ALERT, `修改失败，请检查登录信息`)\r\n\t}\r\n\r\n\treturn _fetch({ modifyUserInfo: { token, ...user } }, resole, final)\r\n}\r\n","import { ReactJSXElement } from '@emotion/react/types/jsx-namespace'\r\nimport KeyboardArrowRightIcon from '@mui/icons-material/KeyboardArrowRight'\r\nimport { Paper } from '@mui/material'\r\nimport type { MouseEvent } from 'react'\r\n\r\ninterface Props {\r\n\tleft?: ReactJSXElement | string\r\n\tdivider?: boolean\r\n\tchildren?: ReactJSXElement | string\r\n\tonClick?: (e?: MouseEvent) => void\r\n}\r\n\r\nexport default function SettingPaper(props: Props) {\r\n\tconst { left = '', children = '', onClick } = props\r\n\treturn (\r\n\t\t<div\r\n\t\t\tonClick={onClick}\r\n\t\t\tclassName={`mb-0.5rem <sm:w-full sm:w-3/5 md:w-3/5 xl:w-3/5 2xl:w-1/2 cursor-pointer hover:bg-blue-200`}>\r\n\t\t\t<Paper\r\n\t\t\t\televation={0}\r\n\t\t\t\tsx={{\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tjustifyContent: 'space-between',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tpl: '1rem',\r\n\t\t\t\t\tpr: '0.6rem',\r\n\t\t\t\t\tpy: '10px',\r\n\t\t\t\t}}>\r\n\t\t\t\t{left}\r\n\t\t\t\t<div className='flex-grow flex justify-end'>{children}</div>\r\n\t\t\t\t<KeyboardArrowRightIcon sx={{ color: '#86909C' }} />\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { SuccessResponse, useFetch } from './fetch'\r\nimport { emitter, MittEventName } from './mitt'\r\n\r\nconst url = 'http://sniqa.com/upload'\r\n\r\nconst requset = (url: string, data: FormData) => {\r\n\treturn new Request(url, {\r\n\t\tmethod: 'POST',\r\n\t\tbody: data,\r\n\t\theaders: new Headers(),\r\n\t\tmode: 'cors',\r\n\t\tcache: 'default',\r\n\t})\r\n}\r\n\r\nexport const upload = async (\r\n\tfiles: File | FileList,\r\n\tresolv: (data: SuccessResponse) => void,\r\n\tfinal?: () => void\r\n) => {\r\n\tconst formData = new FormData()\r\n\r\n\tif (Array.isArray(files)) {\r\n\t\tfor (let i = 0; i < files.length; i++) {\r\n\t\t\tformData.append(`filename`, files[i])\r\n\t\t}\r\n\t} else {\r\n\t\tformData.append(`filename`, files as File)\r\n\t}\r\n\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\treturn useFetch(\r\n\t\trequset(url, formData),\r\n\t\t() => emitter.emit(MittEventName.ALERT, `network error`),\r\n\t\t(data) => {\r\n\t\t\tif (data.success) {\r\n\t\t\t\treturn resolv(data)\r\n\t\t\t} else {\r\n\t\t\t\treturn emitter.emit(MittEventName.ALERT, data.errMsg)\r\n\t\t\t}\r\n\t\t},\r\n\t\t() => emitter.emit(MittEventName.ALERT, `network error`),\r\n\t\t() => final && final()\r\n\t)\r\n}\r\n","import AddPhotoAlternateOutlinedIcon from '@mui/icons-material/AddPhotoAlternateOutlined'\r\nimport { ChangeEvent, useState } from 'react'\r\nimport { emitter, MittEventName } from '../apis/mitt'\r\nimport { upload } from '../apis/upload'\r\n\r\ninterface UploadProps {\r\n\tonUploadReady: (fileUrl: string) => void\r\n\tcolor?: string\r\n\tbgColor?: string\r\n\tbgImage?: string\r\n}\r\n\r\nexport default function Upload(props: UploadProps) {\r\n\tconst {\r\n\t\tonUploadReady,\r\n\t\tcolor = 'primary',\r\n\t\tbgColor = 'bg-light-50',\r\n\t\tbgImage = '',\r\n\t} = props\r\n\tconst [bgImg, setBgImg] = useState<string>(bgImage)\r\n\r\n\tconst onFileReady = async (e: ChangeEvent<HTMLInputElement>) => {\r\n\t\tconst files = e.target.files\r\n\r\n\t\tif (!files) {\r\n\t\t\treturn emitter.emit(MittEventName.ALERT, '上传失败')\r\n\t\t}\r\n\r\n\t\tconst file = files[0]\r\n\r\n\t\tconst fileReader = new FileReader()\r\n\r\n\t\tfileReader.readAsDataURL(file)\r\n\t\tfileReader.onload = (evt) => {\r\n\t\t\tsetBgImg(evt.target?.result as string)\r\n\t\t}\r\n\r\n\t\tupload(file, (res) => {\r\n\t\t\tconst { fileUrl } = res.data\r\n\r\n\t\t\tonUploadReady(fileUrl)\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`overflow-hidden m-auto relative h-6rem w-10rem rounded z-1 ${bgColor} ${color}`.trim()}>\r\n\t\t\t<img\r\n\t\t\t\tsrc={bgImg || ''}\r\n\t\t\t\talt=''\r\n\t\t\t\tclassName={`absolute z-2 w-full h-full opacity-90`}\r\n\t\t\t/>\r\n\t\t\t<input\r\n\t\t\t\ttype='file'\r\n\t\t\t\tclassName='w-full h-5rem h-8rem absolute -top-2rem bg-transparent z-5'\r\n\t\t\t\tonChange={onFileReady}></input>\r\n\t\t\t<div className='absolute w-3rem h-3rem top-1.5rem left-3.5rem flex justify-center items-center z-3'>\r\n\t\t\t\t<AddPhotoAlternateOutlinedIcon color='primary' sx={{ zIndex: 4 }} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n","import {\r\n\tAvatar,\r\n\tButton,\r\n\tDialog,\r\n\tFormControlLabel,\r\n\tRadio,\r\n\tRadioGroup,\r\n\tTextField,\r\n\tTypography,\r\n} from '@mui/material'\r\nimport { ChangeEvent, Fragment, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { modifyUserInfo } from '../apis/user'\r\nimport SettingPaper from '../comps/SettingPaper'\r\nimport Upload from '../comps/Upload'\r\nimport { Gender_en, Gender_enToGender_zh } from '../constant/user'\r\nimport type { Store } from '../store/store'\r\nimport { modifyUserInfoAction } from '../store/user/actions'\r\n\r\nconst _username = '昵称'\r\nconst _gender = '性别'\r\nconst _avatar = '头像'\r\nconst _signature = '签名'\r\nconst _confirm = '确认'\r\nconst _cancel = '取消'\r\nconst _title = 'Title'\r\n\r\n// enum PersonalPageConst {\r\n// \tAVATAR = '头像',\r\n// \tUSERNAME = '昵称',\r\n// \tGENDER = '性别',\r\n// \tSIGNATURE = '签名',\r\n// \tCONFIRM = '确认',\r\n// }\r\n\r\nenum DialogState {\r\n\tSHOW_AVATAR_BOX = 0,\r\n\tSHOW_USERNAME_BOX = 1,\r\n\tSHOW_GENDER_BOX = 2,\r\n\tSHOW_SIGNATURE_BOX = 3,\r\n}\r\n\r\nenum DialogTitle {\r\n\tAVATAR_BOX = '上传头像',\r\n\tUSERNAME_BOX = '昵称',\r\n\tGENDER_BOX = '性别',\r\n\tSIGNATURE_BOX = '签名',\r\n}\r\n\r\ninterface PersonInfo {\r\n\tusername: string\r\n\tavatar: string\r\n\tgender: Gender_en\r\n\tsignature: string\r\n}\r\n\r\nconst getDialogTitle = (type: DialogState) => {\r\n\tswitch (type) {\r\n\t\tcase DialogState.SHOW_AVATAR_BOX:\r\n\t\t\treturn DialogTitle.AVATAR_BOX\r\n\t\tcase DialogState.SHOW_USERNAME_BOX:\r\n\t\t\treturn DialogTitle.USERNAME_BOX\r\n\t\tcase DialogState.SHOW_GENDER_BOX:\r\n\t\t\treturn DialogTitle.GENDER_BOX\r\n\t\tcase DialogState.SHOW_SIGNATURE_BOX:\r\n\t\t\treturn DialogTitle.SIGNATURE_BOX\r\n\t}\r\n}\r\n\r\nexport default function Personal() {\r\n\tconst {\r\n\t\ttoken,\r\n\t\tavatar = '',\r\n\t\tusername = '',\r\n\t\tgender = Gender_en.MALE,\r\n\t\tsignature = '',\r\n\t} = useSelector((store: Store) => store.user)\r\n\r\n\tconst [open, setOpen] = useState(false)\r\n\r\n\tconst [personInfo, setPersonInfo] = useState<PersonInfo>({\r\n\t\tavatar,\r\n\t\tusername,\r\n\t\tgender,\r\n\t\tsignature,\r\n\t})\r\n\r\n\tconst [dialogType, setDialogType] = useState(DialogState.SHOW_USERNAME_BOX)\r\n\r\n\tconst dispatch = useDispatch()\r\n\r\n\tconst openDialog = (type: DialogState) => {\r\n\t\tsetDialogType(type)\r\n\t\tsetOpen(true)\r\n\t}\r\n\r\n\tconst closeDialogAndDispatch = () => {\r\n\t\tmodifyUserInfo(token, personInfo, () => {\r\n\t\t\tdispatch(modifyUserInfoAction(personInfo))\r\n\t\t})\r\n\t\tsetOpen(false)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`h-full w-full`}>\r\n\t\t\t<div className='flex flex-col items-center flex-grow h-full'>\r\n\t\t\t\t<SettingPaper\r\n\t\t\t\t\tleft={_avatar}\r\n\t\t\t\t\tonClick={() => openDialog(DialogState.SHOW_AVATAR_BOX)}>\r\n\t\t\t\t\t<Avatar src={avatar}>{username}</Avatar>\r\n\t\t\t\t</SettingPaper>\r\n\r\n\t\t\t\t<SettingPaper\r\n\t\t\t\t\tleft={_username}\r\n\t\t\t\t\tonClick={() => openDialog(DialogState.SHOW_USERNAME_BOX)}>\r\n\t\t\t\t\t{username}\r\n\t\t\t\t</SettingPaper>\r\n\r\n\t\t\t\t<SettingPaper\r\n\t\t\t\t\tleft={_gender}\r\n\t\t\t\t\tonClick={() => openDialog(DialogState.SHOW_GENDER_BOX)}>\r\n\t\t\t\t\t{Gender_enToGender_zh(gender)}\r\n\t\t\t\t</SettingPaper>\r\n\r\n\t\t\t\t<SettingPaper\r\n\t\t\t\t\tleft={_signature}\r\n\t\t\t\t\tonClick={() => openDialog(DialogState.SHOW_SIGNATURE_BOX)}>\r\n\t\t\t\t\t{signature}\r\n\t\t\t\t</SettingPaper>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Dialog open={open}>\r\n\t\t\t\t<PersonalEditBox\r\n\t\t\t\t\ttitle={getDialogTitle(dialogType)}\r\n\t\t\t\t\tonConfirm={closeDialogAndDispatch}\r\n\t\t\t\t\tonCancel={() => setOpen(false)}>\r\n\t\t\t\t\t{(() => {\r\n\t\t\t\t\t\tswitch (dialogType) {\r\n\t\t\t\t\t\t\tcase DialogState.SHOW_AVATAR_BOX: {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Upload\r\n\t\t\t\t\t\t\t\t\t\tbgImage={personInfo.avatar}\r\n\t\t\t\t\t\t\t\t\t\tbgColor={`bg-gray-100`}\r\n\t\t\t\t\t\t\t\t\t\tonUploadReady={(fileUrl) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetPersonInfo({ ...personInfo, avatar: fileUrl })\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcase DialogState.SHOW_USERNAME_BOX: {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tsize={`small`}\r\n\t\t\t\t\t\t\t\t\t\tsx={{ my: '1rem' }}\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={personInfo.username}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetPersonInfo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...personInfo,\r\n\t\t\t\t\t\t\t\t\t\t\t\tusername: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcase DialogState.SHOW_GENDER_BOX: {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<GenderSelector\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={personInfo.gender}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetPersonInfo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...personInfo,\r\n\t\t\t\t\t\t\t\t\t\t\t\tgender: e.target.value as Gender_en,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcase DialogState.SHOW_SIGNATURE_BOX: {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tsize={`small`}\r\n\t\t\t\t\t\t\t\t\t\tsx={{ my: '1rem' }}\r\n\t\t\t\t\t\t\t\t\t\tdefaultValue={personInfo.signature}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetPersonInfo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...personInfo,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsignature: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdefault: {\r\n\t\t\t\t\t\t\t\treturn null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})()}\r\n\t\t\t\t</PersonalEditBox>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction GenderSelector({\r\n\tonChange,\r\n\tdefaultValue,\r\n}: {\r\n\tonChange: (e: ChangeEvent<HTMLInputElement>) => any\r\n\tdefaultValue?: Gender_en\r\n}) {\r\n\treturn (\r\n\t\t<RadioGroup\r\n\t\t\taria-label='gender'\r\n\t\t\tvalue={defaultValue}\r\n\t\t\tname='radio-buttons-group'\r\n\t\t\tonChange={onChange}>\r\n\t\t\t<FormControlLabel\r\n\t\t\t\tvalue={Gender_en.FEMALE}\r\n\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\tlabel={Gender_enToGender_zh(Gender_en.FEMALE)}\r\n\t\t\t/>\r\n\t\t\t<FormControlLabel\r\n\t\t\t\tvalue={Gender_en.MALE}\r\n\t\t\t\tcontrol={<Radio />}\r\n\t\t\t\tlabel={Gender_enToGender_zh(Gender_en.MALE)}\r\n\t\t\t/>\r\n\t\t</RadioGroup>\r\n\t)\r\n}\r\n\r\ninterface PersonalEditBoxProps {\r\n\tchildren?: JSX.Element | null\r\n\ttitle?: string\r\n\tonConfirm?: () => void\r\n\tonCancel?: () => void\r\n}\r\nfunction PersonalEditBox({\r\n\tchildren,\r\n\ttitle = _title,\r\n\tonConfirm,\r\n\tonCancel,\r\n}: PersonalEditBoxProps) {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div className='flex flex-col px-4 pt-4 min-w-16rem'>\r\n\t\t\t\t<Typography color={`primary`} sx={{ mb: '0.5rem' }}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t</Typography>\r\n\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='flex justify-end mt-2'>\r\n\t\t\t\t<Button onClick={onCancel}>{_cancel}</Button>\r\n\t\t\t\t<Button onClick={onConfirm}>{_confirm}</Button>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t)\r\n}\r\n"],"sourceRoot":""}